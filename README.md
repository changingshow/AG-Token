# AG Token - Antigravity 配额监控扩展

**AG Token** 是一款专为 Antigravity 用户设计的 VS Code 扩展。它能实时读取本地数据库，在状态栏直观展示各个 AI 模型的 Token 使用配额与剩余情况，助您随时掌握用量，合理规划开发资源。

## ✨ 主要功能

*   **⚡ 实时监控**：在 VS Code 状态栏实时显示 AI 模型（Claude, Gemini 等）的配额消耗百分比。
*   **🎨 智能状态**：
    *   **动态颜色**：根据剩余配额自动变色（🟢 充足 / 🟡 警告 / 🔴 紧急）。
    *   **自定义图标**：支持设置为折线图、心跳波形、火箭等多种图标，左右侧可独立配置。
*   **📊 详细仪表盘**：点击状态栏即可打开可视化仪表盘，以饼图和列表形式展示所有渠道的详细用量与重置时间。
*   **🔔 智能通知**：当配额低于阈值时，自动发送通知提醒。
*   **⚙️ 灵活配置**：支持自定义刷新频率、警告阈值及显示格式。

## 📦 安装指南 (自行打包)

本扩展尚未发布到 VS Code 官方市场，建议您下载源码后自行打包安装。过程非常简单，只需几步：

### 前置要求
确保您已安装 [Node.js](https://nodejs.org/)。

### 1. 打包生成 .vsix 文件
在项目根目录下，打开终端运行以下命令：
```bash
npx vsce package
```
运行成功后，目录中会生成一个名为 `ag-token-1.0.0.vsix` 的文件。

### 2. 安装扩展
有两种简单的安装方式：

*   **方法一 (拖拽)**：直接将生成的 `.vsix` 文件拖入 VS Code 的扩展侧边栏 (Extensions) 中即可自动安装。
*   **方法二 (菜单安装)**：
    1. 打开 VS Code 扩展面板 (`Ctrl+Shift+X`)。
    2. 点击面板右上角的 "..." (更多操作) 菜单。
    3. 选择 "Install from VSIX..."。
    4. 选择刚才生成的 `ag-token-1.0.0.vsix` 文件。

安装完成后，VS Code 状态栏右下角稍等片刻即可出现监控图标。

## 📝 使用说明

1.  **自动检测**：扩展启动后会自动尝试读取本地 Antigravity 数据库，无需手动配置路径。
2.  **查看详情**：点击状态栏图标，打开完整仪表盘页面。
3.  **配置选项**：
    *   打开 VS Code 设置 (`Ctrl+,`)，搜索 `AG Token`。
    *   **Icon**: 设置左侧图标 (如 Graph, Pulse)。
    *   **Icon Right**: 设置右侧图标。
    *   **Warning Threshold**: 设置警告阈值 (默认 30%)。
    *   **Refresh Interval**: 设置自动刷新时间。

## 🛠️ 技术栈
*   TypeScript
*   VS Code Extension API
*   sql.js (WASM) - 纯前端 SQLite 解析，无需本地依赖
*   Webpack

---
**Enjoy Coding!** 🚀
