# AG Token - Antigravity 配额监控扩展

**AG Token** 是一款专为 Antigravity 用户设计的 VS Code 扩展。它能实时读取本地数据库，在状态栏直观展示各个 AI 模型的 Token 使用配额与剩余情况，助您随时掌握用量，合理规划开发资源。

## ✨ 主要功能

*   **⚡ 实时监控**：在 VS Code 状态栏实时显示 AI 模型（Claude, Gemini 等）的配额消耗百分比。
*   **🎨 双主题支持**：
    *   **Cyber 主题**：赛博朋克风格，霓虹色彩、动态网格背景、科技感十足。
    *   **Classic 主题**：经典简洁风格，跟随 VS Code 主题配色。
*   **🎯 智能状态**：
    *   **动态颜色**：根据剩余配额自动变色（🟢 充足 / 🟡 警告 / 🔴 紧急）。
    *   **自定义图标**：支持设置为折线图、心跳波形、火箭等多种图标，左右侧可独立配置。
*   **📊 详细仪表盘**：点击状态栏即可打开可视化仪表盘，以圆环图和列表形式展示所有渠道的详细用量与重置时间。
*   **🔔 智能通知**：当配额低于阈值时，自动发送通知提醒。
*   **⚙️ 灵活配置**：支持自定义刷新频率、警告阈值、显示格式及主题风格。

## 📦 安装指南 (自行打包)

本扩展尚未发布到 VS Code 官方市场，建议您下载源码后自行打包安装。

### 前置要求
确保您已安装 [Node.js](https://nodejs.org/)。

### 1. 安装依赖
```bash
npm install
```

### 2. 打包生成 .vsix 文件
```bash
npx vsce package
```
运行成功后，目录中会生成 `ag-token-x.x.x.vsix` 文件。

### 3. 安装扩展
*   **方法一 (拖拽)**：直接将 `.vsix` 文件拖入 VS Code 扩展侧边栏即可自动安装。
*   **方法二 (菜单安装)**：
    1. 打开 VS Code 扩展面板 (`Ctrl+Shift+X`)。
    2. 点击面板右上角的 "..." 菜单。
    3. 选择 "Install from VSIX..."。
    4. 选择生成的 `.vsix` 文件。

## 📝 使用说明

1.  **自动检测**：扩展启动后会自动读取本地 Antigravity 数据库，无需手动配置。
2.  **查看详情**：点击状态栏图标，打开完整仪表盘页面。
3.  **配置选项**：打开 VS Code 设置 (`Ctrl+,`)，搜索 `AG Token`：
    *   **Theme**: 选择主题风格 (Cyber / Classic)
    *   **Icon / Icon Right**: 设置状态栏图标
    *   **Warning Threshold**: 警告阈值 (默认 30%)
    *   **Critical Threshold**: 紧急阈值 (默认 10%)
    *   **Refresh Interval**: 自动刷新间隔

## 🎨 主题预览

### Cyber 主题
- 霓虹色彩配色
- 动态网格背景
- 发光效果和渐变边框
- 科技感圆环进度条

### Classic 主题
- 跟随 VS Code 主题
- 简洁表格布局
- 传统进度条样式

## 🛠️ 技术栈
*   TypeScript
*   VS Code Extension API
*   sql.js (WASM) - 纯前端 SQLite 解析
*   Webpack

## 📄 更新日志

### v1.2.0
- 新增双主题支持 (Cyber / Classic)
- 重新设计 Webview 仪表盘界面
- 优化状态栏和 Tooltip 显示
- 状态栏颜色调整为更柔和的配色

### v1.1.0
- 新增主题切换功能

### v1.0.0
- 初始版本发布

---
**Enjoy Coding!** 🚀
